<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculator</title>
    <style>
        @import url("https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap");

        html {
            font-family: "Montserrat", sans-serif;
            background-color: #181818;
        }

        #main {
            width: 350px;
            height: 500px;
            margin: 8rem auto;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-around;
            background-color: #00000077;
            border-radius: 10px;
            font-family: "Montserrat", sans-serif;
            box-shadow: rgba(119, 119, 119, 0.24) 0px 3px 8px;
        }

        #display {
            background-color: transparent;
            padding: 1rem 1rem;
            height: 50px;
            width: 220px;
            font-size: 25px;
            font-weight: 500;
            letter-spacing: 2px;
            line-height: 1.5;
            color: #212529;
            background-color: #fff;
            border: 1px solid #ced4da;
            border-radius: 4px;
            transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
        }

        #display:focus {
            color: #212529;
            background-color: #fff;
            border-color: #86b7fe;
            outline: 0;
            box-shadow: 0 0 0 0.25rem rgb(13 110 253 / 25%);
        }

        #buttons {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            grid-template-rows: repeat(5, 1fr);
            gap: 15px;
            align-items: center;
        }

        button {
            border-radius: 60rem;
            width: 50px;
            height: 50px;
            color: #090909;
            font-size: 20px;
            border-radius: 5em;
            background: #e8e8e8;
            cursor: pointer;
            border: 1px solid #e8e8e8;
            transition: all 0.3s;
        }

        button:hover {
            border: 1px solid white;
        }

        button:active {
            box-shadow: 4px 4px 12px #c5c5c5, -4px -4px 12px #ffffff;
        }

        .button-1 {
            align-items: center;
            appearance: none;
            background-color: #000000;
            border-radius: 24px;
            border-style: none;
            box-shadow: rgba(253, 253, 253, 0.432) 0 3px 5px -1px,rgba(0, 0, 0, .14) 0 6px 10px 0,rgba(189, 189, 189, 0.055) 0 1px 18px 0;
            color: #f5f5f5;
            cursor: pointer;
            fill: currentcolor;
            font-family: "Google Sans",Roboto,Arial,sans-serif;
            font-size: 20px;
            font-weight: 500;
            height: 48px;
            width: 48px;
            justify-content: center;
            padding: 2px 10px;
        }

        .button-2 {
            background-color: #e0e0e0; 
            color: #000000;
        }

        .button-clear {
            background-color: #ff4d4d;
            color: white;
        }

        .button-backspace {
            background-color: #ffcc00;
            color: black;
        }
    </style>
</head>
<body>
    <div id="main">
        <input type="text" id="display" readonly>

        <div id="buttons">
            <button class="button-clear button-1" id="clear">AC</button> <!-- Clear All button -->
            <button class="button-backspace button-1" id="backspace">C</button> <!-- Backspace button -->
            <button class="button-1">√</button> <!-- Square Root button -->
            <button class="button-1">%</button> <!-- Percentage button -->
            <button class="button-1">7</button>
            <button class="button-1">8</button>
            <button class="button-1">9</button>
            <button class="button-1">/</button>
            <button class="button-1">4</button>
            <button class="button-1">5</button>
            <button class="button-1">6</button>
            <button class="button-1">*</button>
            <button class="button-1">1</button>
            <button class="button-1">2</button>
            <button class="button-1">3</button>
            <button class="button-1">-</button>
            <button class="button-1">.</button>
            <button class="button-1">0</button>
       
           
         
            <button class="button-1">+</button>
          
            <button class="button-1">=</button>
           
        </div>
    </div>

    <script>
        let value = "";
        let lastOperator = null;
        let buttons = document.querySelectorAll(".button-1");

        Array.from(buttons).forEach((button) => {
            button.addEventListener("click", (e) => {
                let buttonValue = e.target.innerHTML;

                if (buttonValue == "=") {
                    // Evaluate the expression and display the result
                    try {
                        value = eval(value);
                        document.getElementById("display").value = value;
                    } catch {
                        document.getElementById("display").value = "Error";
                        value = "";
                    }
                } else if (buttonValue == "AC") {
                    // Clear all input
                    value = "";
                    document.getElementById("display").value = value;
                } else if (buttonValue == "C") {
                    // Backspace functionality
                    value = value.slice(0, -1);
                    document.getElementById("display").value = value;
                } else if (buttonValue == "√") {
                    // Square root functionality
                    value = Math.sqrt(parseFloat(value));
                    document.getElementById("display").value = value;
                } else if (buttonValue == "%") {
                    // Percentage functionality
                    if (lastOperator) {
                        // Percentage of a calculation (e.g., 50 + 10% should be 50 + 5)
                        let lastNumber = value.split(lastOperator).pop();
                        let percentageValue = (parseFloat(lastNumber) / 100) * parseFloat(value.split(lastOperator)[0]);
                        value = value.slice(0, -(lastNumber.length)) + percentageValue;
                    } else {
                        // Percentage of a single number (e.g., 50% should be 0.5)
                        value = (parseFloat(value) / 100).toString();
                    }
                    document.getElementById("display").value = value;
                } else {
                    // Append the button value to the current expression
                    value += buttonValue;
                    document.getElementById("display").value = value;

                    // Track the last operator for percentage calculations
                    if (["+", "-", "*", "/"].includes(buttonValue)) {
                        lastOperator = buttonValue;
                    }
                }
            });
        });
    </script>
</body>
</html>
